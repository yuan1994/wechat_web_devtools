'use strict';var _exports;function init(){const a=require('../../lib/react.js'),b=require('../../cssStr/cssStr.js'),c=require('../../stores/windowStores.js'),d=require('../../common/actions/actions.js'),e=a.createClass({displayName:'Menubar',getInitialState:function(){return{memory:0,show:'win32'===process.platform||global.appConfig.isDev?{}:b.displayNone,showActions:b.displayNone,showAbout:b.displayNone}},actionsClick:function(f){let g=f.target,h=g.dataset,i=h.type;i?d[i]():(g.setAttribute('already',!0),this.setState({showActions:this.state.showActions===b.displayNone?{}:b.displayNone,showAbout:b.displayNone}))},aboutClick:function(f){let g=f.target,h=g.dataset,i=h.type;i?d[i]():(g.setAttribute('already',!0),this.setState({showAbout:this.state.showAbout===b.displayNone?{}:b.displayNone,showActions:b.displayNone}))},_bodyClick:function(f){let g=f.target,h=g.getAttribute('already');return h?void g.setAttribute('already',!1):void this.setState({showActions:b.displayNone,showAbout:b.displayNone})},componentDidMount:function(){c.on('BODY_CLICK',this._bodyClick)},componentWillUnmount:function(){c.removeListener('BODY_CLICK',this._bodyClick)},render:function(){let f=this.props.project?b.displayNone:{},g=this.props.lastWinStatus,h='restore'===g.status?'operation-max-icon':'operation-recover-icon';return a.createElement('div',{className:'menubar-wrapper app-drag',style:this.state.show},a.createElement('div',{className:'menubar'},a.createElement('div',{onClick:this.props.showSetting,className:'menubar-item app-no-drag'},'\u8BBE\u7F6E'),a.createElement('div',{className:'menubar-item app-no-drag',onClick:this.actionsClick},'\u52A8\u4F5C',a.createElement('div',{className:'menubar-item-sub',style:this.state.showActions},a.createElement('a',{'data-type':'reload',href:'javascript:;',className:'menubar-item-sub-item'},'\u5237\u65B0'),a.createElement('a',{'data-type':'goback',href:'javascript:;',className:'menubar-item-sub-item'},'\u540E\u9000'),a.createElement('a',{'data-type':'goforward',href:'javascript:;',className:'menubar-item-sub-item'},'\u524D\u8FDB'),a.createElement('a',{style:f,'data-type':'focusAddressBar',href:'javascript:;',className:'menubar-item-sub-item'},'\u9009\u4E2D\u5730\u5740\u680F'))),a.createElement('div',{className:'menubar-item app-no-drag',onClick:this.aboutClick},'\u5E2E\u52A9',a.createElement('div',{className:'menubar-item-sub',style:this.state.showAbout},a.createElement('a',{'data-type':'showAbout',href:'javascript:;',className:'menubar-item-sub-item'},'\u5173\u4E8E')))),a.createElement('div',{className:'titlebar'},a.createElement('h1',null,'\u5FAE\u4FE1\u5F00\u53D1\u8005\u5DE5\u5177 ',global.appVersion,' ',global.appConfig.isBeta?'beta':'')),a.createElement('div',{className:'operation-area app-no-drag'},a.createElement('a',{href:'javascript:;',onClick:this.props.appMin,className:'operation-item'},a.createElement('i',{className:'operation-min-icon'})),a.createElement('a',{href:'javascript:;',onClick:this.props.appMax,className:'operation-item'},a.createElement('i',{className:h})),a.createElement('a',{href:'javascript:;',onClick:this.props.appQuit,className:'operation-item'},a.createElement('i',{className:'operation-close-icon'}))))}});_exports=e}init(),module.exports=_exports;