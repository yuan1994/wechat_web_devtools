'use strict';var _exports;function init(){const a=require('../../lib/react.js'),b=require('../../cssStr/cssStr.js'),c=require('../../actions/webviewActions.js'),d=require('../../stores/windowStores.js'),e=require('../../actions/windowActions.js'),f=a.createClass({displayName:'Clearbutton',getInitialState:function(){return{show:!1,showSuc:''}},handleOnClick:function(g){g.stopPropagation();let h=this.state.show;this.setState({show:!h})},buttonClick:function(g){g.stopPropagation();let h=g.currentTarget,i=h.dataset,j=i.type,k=()=>{this.setState({showSuc:j}),setTimeout(()=>{this.setState({showSuc:''})},500)};'cookies'===j?c.clearWebview({cookies:!0,callBack:k}):'cache'===j?c.clearWebview({appcache:!0,cache:!0,fileSystems:!0,indexedDB:!0,localStorage:!0,webSQL:!0,callBack:k}):'historyUrl'===j&&e.clearAddressHistory({callBack:k})},_bodyClick:function(){this.setState({show:!1})},componentDidMount:function(){d.on('BODY_CLICK',this._bodyClick)},componentWillUnmount:function(){d.removeListener('BODY_CLICK',this._bodyClick)},render:function(){let g=this.state.show?{}:b.displayNone,h=this.state.show?'toolbar-clear-icon-up':'toolbar-clear-icon-down',i=this.state.showSuc;return a.createElement('div',{className:'toolbar-clear',onClick:this.handleOnClick},a.createElement('p',null,'\u6E05\u7406\u7F13\u5B58 ',a.createElement('i',{className:h})),a.createElement('div',{onClick:this.handleOnClick,className:'toolbar-clear-dropdown',style:g},a.createElement('div',{onClick:this.buttonClick,'data-type':'cookies',className:'toolbar-clear-dropdown-item'},a.createElement('p',null,'\u6E05\u9664\u5F00\u53D1\u8005\u5DE5\u5177cookie'),a.createElement('span',{style:'cookies'===i?{}:b.displayNone},'\u5DF2\u6E05\u9664')),a.createElement('div',{onClick:this.buttonClick,'data-type':'cache',className:'toolbar-clear-dropdown-item'},a.createElement('p',null,'\u6E05\u9664\u5F00\u53D1\u8005\u5DE5\u5177\u7F13\u5B58'),a.createElement('span',{style:'cache'===i?{}:b.displayNone},'\u5DF2\u6E05\u9664')),a.createElement('div',{onClick:this.buttonClick,'data-type':'historyUrl',className:'toolbar-clear-dropdown-item'},a.createElement('p',null,'\u6E05\u9664\u5730\u5740\u680F\u5386\u53F2\u8BB0\u5F55'),a.createElement('span',{style:'historyUrl'===i?{}:b.displayNone},'\u5DF2\u6E05\u9664'))))}});_exports=f}init(),module.exports=_exports;