'use strict';var _exports;function init(){const a=require('../../../lib/react.js'),b=require('../../../cssStr/cssStr.js'),c=require('./devicemodules.js'),d=require('./network.js'),e=require('../../../stores/windowStores.js'),f=require('../../../actions/windowActions.js'),g=require('../../../stores/projectStores.js'),h='toolstabs',i=a.createClass({displayName:'ToolBar',getInitialState:function(){return{showItems:!1,showMask:!1}},_clickToolsbar:function(j){h!=j&&this.setState({showItems:!1})},componentDidMount:function(){e.on('CLICK_TOOLSBAR',this._clickToolsbar)},componentWillUnmount:function(){e.removeListener('CLICK_TOOLSBAR',this._clickToolsbar)},showItems:function(j){j.stopPropagation();let k=!this.state.showItems;if(k)for(let l in this.props.list)this.props.getSimulatorActions('S_SET_ACTION',parseInt(l),{act:'CAPTURE'});this.setState({showItems:k}),f.clickToolsbar(h)},clickItems:function(j){j.stopPropagation();let k=j.currentTarget,l=k.dataset,m=parseInt(l.webviewid);this.setState({webviewID:m}),this.props.getSimulatorActions('S_CHANGE_CURRENT_WEBVIEW',null,{webviewID:m})},onWebviewEditClick:function(){let j=this.props.project;g.setProjectEditWebview(j.hash,!j.editWebview)},render:function(){let{list:j,show:k,project:l}=this.props,m=this.props.currentWebviewID,n=Object.keys(j).length,o=1<n?{}:b.displayNone,p=this.state.showMask?{}:b.displayNone,q=[];for(let t in j){let u='simulator-toolbar-tabs-item '+(t==m?' simulator-toolbar-tabs-item-current':'');q.push(a.createElement('div',{onClick:this.clickItems,className:u,'data-webviewid':t,key:t},a.createElement('img',{src:j[t].dataURI})))}let r=this.state.showItems?{}:b.displayNone,s='edit'===k?{}:b.displayNone;return a.createElement('div',{className:'simulator-toolbar'},a.createElement('div',{onClick:this.onWebviewEditClick,style:s,className:'simulator-toolbar-toggle'},a.createElement('i',{className:'simulator-toolbar-toggle-icon'})),a.createElement(c,{getSimulatorActions:this.props.getSimulatorActions}),a.createElement(d,null),a.createElement('div',{onClick:this.showItems,className:'simulator-toolbar-tabs',style:o},a.createElement('p',null,'\u6B63\u5728\u8C03\u8BD5',n,'\u4E2A\u9875\u9762'),a.createElement('i',{className:'simulator-toolbar-model-icon-down'}),a.createElement('div',{className:'simulator-toolbar-tabs-content',style:r},q)),a.createElement('div',{style:p,className:'simulator-toolbar-mask'}))}});_exports=i}init(),module.exports=_exports;