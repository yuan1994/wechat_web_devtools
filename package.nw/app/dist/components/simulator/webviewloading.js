'use strict';var _exports;function init(){const a=require('../../lib/react.js'),b=require('../../stores/webviewStores.js');var c,d;const e=a.createClass({displayName:'Webviewloading',getInitialState:function(){return{webviewID:parseInt(this.props.webviewID),rate:0}},_upWebviewStatus:function(f,g){let h=g.loading;if('start'===h){clearTimeout(c);let i=parseInt(100*Math.random());this.state.rate=i,this.setState(this.state),d=setTimeout(()=>{50>this.state.rate&&(this.state.rate+=5),75>this.state.rate&&(this.state.rate+=2),90>this.state.rate&&(this.state.rate+=1),this.setState(this.state)},200)}else'stop'===h&&(clearTimeout(c),clearTimeout(d),this.state.rate=100,this.setState(this.state),c=setTimeout(()=>{this.state.rate=0,this.setState(this.state)},200))},_cleanWebview:function(f){this.setState({rate:0})},componentDidMount:function(){let f=this.state.webviewID;b.on(`UP_WEBVIEW_STATUS_${f}`,this._upWebviewStatus),b.on(`CLEAN_WEBVIEW_${f}`,this._cleanWebview)},componentWillUnmount:function(){let f=this.state.webviewID;clearTimeout(c),clearTimeout(d),b.removeListener(`UP_WEBVIEW_STATUS_${f}`,this._upWebviewStatus),b.removeListener(`CLEAN_WEBVIEW_${f}`,this._cleanWebview)},render:function(){let f={width:`${this.state.rate}%`};return 0===this.state.rate&&(f.display='none'),a.createElement('div',{className:'simulator-bd-loading',style:f})}});_exports=e}init(),module.exports=_exports;