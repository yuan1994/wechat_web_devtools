'use strict';var _exports;function init(){const a=require('../../../lib/react.js');require('../../../lib/react-dom.js');const b=require('../../../stores/webviewStores.js'),c=require('../../../actions/webviewActions.js'),d=require('./selectorRing'),e=require('./timeRing'),f=require('./dateRing'),g=a.createClass({displayName:'Picker',getInitialState:function(){return{mode:'selector',title:'',content:'',confirmText:'\u786E\u5B9A',cancelText:'\u53D6\u6D88',showCancel:!0,confirmColor:'#3CC51F',cancelColor:'#000000',hidden:!0,array:[],lazyLoaded:!1}},componentDidMount:function(){b.on(`SET_INTERFACE_ASYNC_RES`,this._handleWebviewsdkCommand)},componentWillUnmount:function(){b.removeListener(`SET_INTERFACE_ASYNC_RES`,this._handleWebviewsdkCommand)},_handleWebviewsdkCommand:function(h,i,j,k){let{args:l}=k;this.webviewID=h,this.sdkName=i,'showPickerView'===i?this.setState({mode:'selector',array:l.array,current:l.current,lazyLoaded:!0,hidden:!1}):'showDatePickerView'==i&&this.setState({mode:l.mode,start:l.range&&l.range.start||'',end:l.range&&l.range.end||'',current:l.current||'',fields:l.fields||'day',lazyLoaded:!0,hidden:!1})},hide:function(){this.setState({hidden:!0,mode:'none'})},confirm:function(){this.hide();let h=this.refs[this.state.mode].getValue();'showPickerView'===this.sdkName?c.sendJSSDKRes(this.webviewID,this.sdkName,{errMsg:`${this.sdkName}:ok`,index:parseInt(h)}):'showDatePickerView'===this.sdkName&&c.sendJSSDKRes(this.webviewID,this.sdkName,{errMsg:`${this.sdkName}:ok`,value:h})},render:function(){return this.state.lazyLoaded?a.createElement('div',{style:{display:this.state.hidden?'none':''}},a.createElement('div',{className:'wx-picker-mask',onClick:this.hide}),a.createElement('div',{className:'wx-picker'},a.createElement('div',{className:'wx-picker-hd'},a.createElement('a',{className:'wx-picker-action',onClick:this.hide},'\u53D6\u6D88'),a.createElement('a',{className:'wx-picker-action',onClick:this.confirm},'\u786E\u5B9A')),a.createElement(d,{ref:'selector',array:this.state.array,current:this.state.current,show:'selector'==this.state.mode}),a.createElement(e,{ref:'time',current:this.state.current,start:this.state.start,end:this.state.end,show:'time'==this.state.mode}),a.createElement(f,{ref:'date',current:this.state.current,start:this.state.start,end:this.state.end,fields:this.state.fields,show:'date'==this.state.mode}))):null}});_exports=g}init(),module.exports=_exports;