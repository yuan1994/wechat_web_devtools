'use strict';var _exports;function init(){const a=require('../../../lib/react.js');require('../../../lib/react-dom.js');const b=require('../../../stores/webviewStores.js'),c=a.createClass({displayName:'Modal',getInitialState:function(){return{title:'',content:'',confirmText:'\u786E\u5B9A',cancelText:'\u53D6\u6D88',showCancel:!0,confirmColor:'#3CC51F',cancelColor:'#000000',hidden:!0,lazyLoaded:!1}},componentDidMount:function(){b.on('SEND_AS_SDK',this._handleAssdkCommand)},componentWillUnmount:function(){b.removeListener('SEND_AS_SDK',this._handleAssdkCommand)},componentWillReceiveProps:function(d){d.webviewID!=this.__showOnWebviewID&&this.setState({hidden:!0})},_handleAssdkCommand:function(d,e,f){let{args:g}=e;'showModal'===d&&(this.callback=f,this.__showOnWebviewID=this.props.webviewID,this.setState({title:g.title||'',content:g.content||'',confirmText:g.confirmText||'\u786E\u5B9A',cancelText:g.cancelText||'\u53D6\u6D88',showCancel:!1!==g.showCancel,confirmColor:g.confirmColor||'#3CC51F',cancelColor:g.cancelColor||'#000000',hidden:!1,lazyLoaded:!0}))},handleCancelClick:function(){this.callback({errMsg:'showModal:ok',confirm:0}),this.hide()},handleConfrimClick:function(){this.callback({errMsg:'showModal:ok',confirm:1}),this.hide()},hide:function(){this.setState({hidden:!0})},render:function(){return this.state.lazyLoaded?a.createElement('div',{className:'wx-modal',style:{display:this.state.hidden?'none':'block'}},a.createElement('div',{className:'wx-modal-mask'}),a.createElement('div',{className:'wx-modal-dialog'},a.createElement('div',{className:'wx-modal-dialog-hd'},a.createElement('strong',null,this.state.title)),a.createElement('div',{className:'wx-modal-dialog-bd'},this.state.content),a.createElement('div',{className:'wx-modal-dialog-ft'},a.createElement('a',{className:'wx-modal-btn-default',style:{color:this.state.cancelColor,display:this.state.showCancel?'':'none'},onClick:this.handleCancelClick},this.state.cancelText),a.createElement('a',{className:'wx-modal-btn-primary',style:{color:this.state.confirmColor},onClick:this.handleConfrimClick},this.state.confirmText)))):null}});_exports=c}init(),module.exports=_exports;