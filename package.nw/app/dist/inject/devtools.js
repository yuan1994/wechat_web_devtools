(function(){"use strict";if("chrome-devtools:"===location.protocol){function C(L,M,N,O){let P={to:L,msg:M,command:N,ext:O};P.comefrom="webframe",P.webviewID=l,window.postMessage(P,"*")}function D(){window.prompt,window.confirm,window.alert,window.alert=function(L){C("backgroundjs",{type:"alert",msg:L})},window.confirm=function(L){return!0}}function E(L){try{if("appservice"!==L){p=new WebInspector.DeviceModeModel(function(){}),p._target=WebInspector.targetManager.mainTarget(),p._applyTouch(!0,!0),p._target.emulationAgent().invoke_setDeviceMetricsOverride(q,function(){C("backgroundjs","","INIT_DEVTOOLS_SUCCESS")});let N=WebInspector.DOMModel.prototype.setInspectMode;WebInspector.DOMModel.prototype.setInspectMode=function(O,P){"searchForNode"===O?p._applyTouch(!1,!1):setTimeout(function(){p._applyTouch(!0,!0)},1000/60),N.call(this,O,P)}}else{function N(O){let P=O.data;M||(M=document.getElementsByTagName("iframe")[0]);let Q=P.securityDetails(),R={command:"securityDetails",url:P.url,statusCode:P.statusCode,remoteAddress:P._remoteAddress};Q&&(R.protocol=Q.protocol),M.contentWindow.postMessage(R,"*")}var M;if(55<=n){WebInspector.targetManager._targets[0];let O=new WebInspector.NetworkManager(WebInspector.targetManager._targets[0]);O.addEventListener(WebInspector.NetworkManager.Events.ResponseReceived,N),O._networkAgent.setCacheDisabled(!0)}else WebInspector.targetManager._targets[0].networkManager.addEventListener("ResponseReceived",N),WebInspector.targetManager._targets[0].networkManager._networkAgent.setCacheDisabled(!0);InspectorFrontendHost.openInNewTab=function(O){/^http:\/\/\d*\.appservice\.open\.weixin\.qq\.com/.test(O)||window.open(O)}}}catch(N){setTimeout(()=>{E(L)},1000/60)}}function G(){let L=WebInspector.inspectorView.showPanel;WebInspector.inspectorView.showPanel=function(M){F[M]&&(M="console"),localStorage.setItem("panelName",M),L.call(this,M)}}function I(){document.querySelector(".inspector-view-toolbar");let L=document.querySelector(".inspector-view-tabbed-pane")||document.querySelector(".insertion-point-main"),M=L.shadowRoot;K(M,{childList:!0,subtree:!0},N=>{let O=N.addedNodes;for(let P=0,Q=O.length;P<Q;P++){let R=O[P];return"tabbed-pane-header-tab"===R.className}},()=>{H.forEach(O=>{let P=M.querySelector(`#${O}`);P.style.display="none",K(P,{attributes:!0},Q=>{let R=Q.target;R.classList.contains("selected")&&WebInspector.inspectorView.showPanel("console")},()=>{})});let N=M.querySelector(".tabbed-pane-tab-slider");K(M.querySelector(".tabbed-pane-header-tabs"),{attributes:!0,subtree:!0},O=>{let P=M.querySelector(".selected"),Q=P.offsetLeft,R=P.offsetWidth,S=`transform: translateX(${Q}px); width: ${R}px;`;N.style.cssText=S},()=>{})})}function J(){o?(I(),G(),E("appservice")):E(),C("contentscript",{},"SHAKE_HANDS")}function K(L,M,N,O){let P=new MutationObserver(Q=>{for(let R=0,S=Q.length;R<S;R++){let T=Q[R];if(N(T)){O(),P.disconnect();break}}});P.observe(L,M)}var k=navigator.userAgent,l=parseInt(k.match(/webview\/(\d*)/)[1]);k.match(/chromeRuntimeID\/(.*)\s?/)[1];var n=parseInt(k.match(/Chrome\/(\d\d)/)[1]),o=-1!==k.indexOf("asviewdevtools"),p,q={width:375,height:667,deviceScaleFactor:2,mobile:!0,fitWindow:!1};window.location.hash="no-back-button",window.location.hash="Again-No-back-button",window.onhashchange=function(){window.location.hash="no-back-button"},D(),window.addEventListener("message",L=>{let M=L.data||{},N=M.command,O=M.msg;"init"===N?(q.width=parseInt(O.width),q.height=parseInt(O.height),q.deviceScaleFactor=parseFloat(O.dpr),p&&p._target.emulationAgent().invoke_setDeviceMetricsOverride(q,function(){C("backgroundjs","","INIT_DEVTOOLS_SUCCESS")}),D(M)):"setEmulate"===N&&(q.width=parseInt(O.width),q.height=parseInt(O.height),q.deviceScaleFactor=parseFloat(O.dpr),p._target.emulationAgent().invoke_setDeviceMetricsOverride(q,function(){}))});const F={element:!0,timeline:!0,profiles:!0,security:!0,audits:!0,resources:!0},H=["tab-elements","tab-timeline","tab-profiles","tab-security","tab-audits","tab-resources"];K(document.body,{childList:!0},L=>{let M=L.addedNodes;for(let N=0,O=M.length;N<O;N++){let P=M[N];return"widget vbox root-view"===P.className}},()=>{J()})}})();