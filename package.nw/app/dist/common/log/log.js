'use strict';var _exports;function init(){const a=require('fs'),b=require('log'),c=require('path'),d=require('../../config/dirConfig.js'),e=d.WeappLog;var f;if(global.isDev||process.execPath.match('nw.exe')||process.execPath.match('nwjs.app'))f=console;else{let g=JSON.parse(localStorage.logFiles||'[]'),h=new Date,i=`${h.getFullYear()}-${h.getMonth()+1}-${h.getDate()}-${h.getHours()}-${h.getMinutes()}-${h.getMilliseconds()}.log`,j=c.join(e,i);if(10<g.length){let k=g.shift();a.unlink(k,()=>{})}g.push(j),localStorage.setItem('logFiles',JSON.stringify(g)),f=new b('info',a.createWriteStream(j))}_exports=f}init(),module.exports=_exports;