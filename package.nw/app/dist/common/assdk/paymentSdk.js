'use strict';var _exports;function init(){function a(h){f.showTipsMsg({msg:h,type:'error'})}const b=require('../request/request.js'),{DEV_BIND_NOT_24H:c}=require('../../config/errcodeConfig.js'),{paymentURL:d}=require('../../config/urlConfig.js'),f=require('../../actions/windowActions.js'),g=require('../../actions/webviewActions.js');_exports={requestPayment:function(i,j){JSON.stringify(i.args),b({url:`${d}?appid=${i.appid}`,loginForc:1,needToken:1,method:'post',body:JSON.stringify({payment_args:JSON.stringify(i.args)})},(k,l,m)=>{if(k)a(JSON.stringify(k)),j({errMsg:`requestPayment:fail`});else{let n;try{n=JSON.parse(m)}catch(q){return a(`系统错误 ${JSON.stringify(q)}`),log.error(`paymentSdk.js parse body error: ${m} ${JSON.stringify(k)}`),void j({errMsg:`requestPayment:fail`})}let o=n.baseresponse,p=o?parseInt(o.errcode):0;if(0===p)g.sendASSDK('requestPayment',{uuid:n.wxa_pay_uuid,qrcode:n.qrcode_img},j);else if(p===c){let q=`当前开发者绑定时间不足 24 小时，请过后重试`;a(q),j({errMsg:`requestPayment:fail ${q}`})}else a(`系统错误，错误码 ${p}，错误信息 ${o.errmsg}`),j({errMsg:`requestPayment:fail`})}})}}}init(),module.exports=_exports;