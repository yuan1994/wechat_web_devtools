'use strict';var _exports;function init(){function a(f){b({url:`${'http://apis.map.qq.com/ws/location/v1/ip'}?key=${d}`,needToken:-1},f)}const b=require('../request/request.js'),c=require('../../actions/webviewActions.js'),d='JMRBZ-R4HCD-X674O-PXLN4-B7CLH-42BSB',e='wxdevtools';_exports={getLocation:function(g,h){a((i,j,k)=>{let l={};i||200!==j.statusCode||(k=JSON.parse(k),0==k.status&&(l={latitude:k.result.location.lat,longitude:k.result.location.lng},l.errMsg='getLocation:ok')),l.errMsg||(l.errMsg='getLocation:fail timeout'),h(l)})},openLocation:function(g,h){let i=g.args,j=i.latitude,k=i.longitude,l=`marker=coord:${j},${k}`;l+=`;title:${encodeURIComponent(i.name||' ')}`,l+=`;addr:${encodeURIComponent(i.address||' ')}`,g.url=`${'http://apis.map.qq.com/tools/poimarker'}?type=0&${l}&key=${d}&referer=${e}`,c.sendASSDK('openLocation',g,h)},chooseLocation:function(g,h){a((i,j,k)=>{if(!i&&200===j.statusCode&&(k=JSON.parse(k),0==k.status)){let l=k.result.location.lat,m=k.result.location.lng;return g.url=`${'http://apis.map.qq.com/tools/locpicker'}?search=1&type=1&coord=${l},${m}&key=${d}&referer=${e}`,void c.sendASSDK('chooseLocation',g,h)}h({errMsg:'chooseLocation:fail timeout'})})}}}init(),module.exports=_exports;