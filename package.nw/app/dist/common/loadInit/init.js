'use strict';var _exports;module.exports=()=>{const a=require('../../config/urlConfig.js'),b=require('../request/request.js'),c=require('../log/log.js'),d=require('../../utils/newReport.js'),f=require('../../utils/checkUp.js');if(c.info(`init.js loadinit begin`),!global.appConfig.isDev){function h(i,j){try{let k=j.filename,l=j.error.stack;c.error(`filename: ${k}, msg: ${l}`),d(i,'',`filename: ${k}, msg: ${l}`)}catch(k){}}window.addEventListener('error',i=>{h('tool_error_nw',i)}),global.contentWindow.addEventListener('error',i=>{h('tool_error_web',i)})}let g={type:7,version:global.appVersion};b({method:'post',url:a.LOADCONFIG_URL,body:JSON.stringify(g),needToken:-1},(h,i,j)=>{if(!h){c.info(`init.js loadinit end: ${j}`);let k=JSON.parse(j),l=k.cgi_list,m={};l.forEach(p=>{m[p.name]=p.url}),localStorage.setItem('urlConfig',JSON.stringify(m));let n=k.client_list,o={};n.forEach(p=>{o[p.key]=p.value}),f(o)}else c.info(`init.js loadinit error: ${JSON.stringify(h)}`)})};