'use strict';var _exports;function init(){const a=global.appConfig.isDev,b=require('fs'),c=require('path');require('../utils/tools.js'),require('../../config/config.js');const d=require('../utils/vendorManager.js'),e=require('../utils/projectManager.js');require('async');var f={};const g=a?{'<!--{{reportSDK}}-->':'reporter-sdk.js','<!--{{webviewSDK}}-->':'webview-sdk.js','<!--{{virtual_dom}}-->':'virtual_dom.js','<!--{{exparser}}-->':'exparser.js','<!--{{components_js}}-->':'wx-components.js','<!--{{components_css}}-->':'wx-components.css'}:{'<!--{{WAWebview}}-->':'WAWebview.js'};d.manager.on('VENDOR_CHANGE',()=>{f={}}),e.manager.on('FILE_CHANGE',(h,i,j)=>{if('app.wxss'===j){let k=h.hash;delete f[k]}}),_exports=(h,i,j)=>{i.url;let k=h.hash;if(f[k])process.nextTick(()=>{let l=f[k];j(l.error,l.data)});else{let l=c.join(h.projectpath,'app.wxss'),m=b.existsSync(l),n=require('../tpl/pageFrameTpl.js');m&&(n=n.replace('<!--{{style}}-->',()=>{return`<script src="/app.wxss"></script>`}));let o={};for(let p in g)o[p]=d.getFile(g[p]);for(let p in g){let q=g[p];n=n.replace(p,()=>{if(0<q.indexOf('.js'))return`<script>${o[p]}</script>`;return 0<q.indexOf('.css')?`<style>${o[p]}</style>`:o.vendor[p]})}a||(f[k]={error:null,data:n}),j(null,n)}}}init(),module.exports=_exports;